<!DOCTYPE html><html lang="en"> <head><meta charset="utf-8"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="viewport" content="width=device-width"><meta name="generator" content="Astro v5.15.1"><title>安装boost库(VC)</title></head> <body> <h1>安装boost库(VC)</h1>  <p><em>vc11+ </em></p> <p>2024-11-19</p> <p>Written by: tdtc</p> <p>support of <a href="https://en.wikipedia.org/wiki/Microsoft_Visual_C%2B%2B#Internal_version_numbering">MSVC</a></p>








































<table><thead><tr><th>名称</th><th>VS版本</th><th>Minimum version</th></tr></thead><tbody><tr><td>msvc-11.0</td><td>VS2012</td><td><a href="https://sourceforge.net/projects/boost/files/boost-binaries">1.52.0</a></td></tr><tr><td>msvc-12.0</td><td>VS2013</td><td><a href="https://sourceforge.net/projects/boost/files/boost-binaries">1.55.0</a></td></tr><tr><td>msvc-14.0</td><td>VS2015</td><td><a href="https://sourceforge.net/projects/boost/files/boost-binaries">1.59.0</a></td></tr><tr><td>msvc-14.1</td><td>VS2017</td><td><a href="https://boostorg.jfrog.io/artifactory/main/release">1.64.0</a></td></tr><tr><td>msvc-14.2</td><td>VS2019</td><td><a href="https://boostorg.jfrog.io/artifactory/main/release">1.71.0</a></td></tr><tr><td>msvc-14.3</td><td>VS2022</td><td><a href="https://boostorg.jfrog.io/artifactory/main/release">1.78.0</a></td></tr></tbody></table>
<p>Current Version(xyz): <a href="https://www.boost.org/users/download/">1.86.0</a></p>
<h1 id="1-编译x86">1. 编译(x86)</h1>
<p>x86 Native Tools Command Prompt for VS xxxx</p>
<ul>
<li><a href="https://www.boost.org/build/doc/html/bbv2/faq/names.html">About b2 vs bjam</a></li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>as of Boost 1.47.0, the official name of the executable was changed to b2.</span></span></code></pre>
<h2 id="gen-b2-and-build">Gen b2 and build</h2>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="cmd"><code><span class="line"><span style="color:#E1E4E8">cd C:\boost_x_y_z</span></span>
<span class="line"><span style="color:#E1E4E8">bootstrap.bat</span></span></code></pre>
<!-- vs2019: https://github.com/tdtc-hrb/csdn/raw/master/images/boost-cmd1.png -->
<!-- vs2015: https://github.com/tdtc-hrb/csdn/raw/master/images/boost-cmd1(vs2015).png -->
<!-- vs2022.6: https://github.com/tdtc-hrb/csdn/raw/master/images/boost-cmd1(vs2022).png -->
<p><img src="https://github.com/tdtc-hrb/csdn/raw/master/images/boost-cmd1(vs2022.12).png" alt="windows cmd1"></p>
<h3 id="build">build</h3>
<ul>
<li>VS2022</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">b2</span><span style="color:#9ECBFF"> stage</span><span style="color:#79B8FF"> --toolset=msvc-14.3</span><span style="color:#79B8FF"> --without-graph</span><span style="color:#79B8FF"> --without-graph_parallel</span><span style="color:#79B8FF"> --without-math</span><span style="color:#79B8FF"> --without-mpi</span><span style="color:#79B8FF"> --without-python</span><span style="color:#79B8FF"> --without-serialization</span><span style="color:#79B8FF"> --without-wave</span><span style="color:#79B8FF"> --stagedir=</span><span style="color:#9ECBFF">"C:\boost\bin\vc143"</span><span style="color:#9ECBFF"> link=static</span><span style="color:#9ECBFF"> runtime-link=shared</span><span style="color:#9ECBFF"> runtime-link=static</span><span style="color:#9ECBFF"> threading=multi</span><span style="color:#9ECBFF"> debug</span><span style="color:#9ECBFF"> release</span></span></code></pre>
<ul>
<li>VS2019</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">b2</span><span style="color:#9ECBFF"> stage</span><span style="color:#79B8FF"> --toolset=msvc-14.2</span><span style="color:#E1E4E8"> </span></span>
<span class="line"><span style="color:#79B8FF">...</span></span>
<span class="line"><span style="color:#E1E4E8">--stagedir</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"C:\boost\bin\vc142"</span></span>
<span class="line"><span style="color:#79B8FF">...</span></span></code></pre>
<h1 id="2-使用">2. 使用</h1>
<p>Copy the ‘C:\boost_x_y_z\boost’ folder to ‘C:’ disk</p>
<h2 id="project-properties">Project Properties</h2>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>Project->Properties->Configuration Properties</span></span></code></pre>
<h3 id="头文件">头文件</h3>
<blockquote>
<p>VC++ Directories->General</p>
</blockquote>
<ul>
<li>Additional Include Directories:</li>
</ul>
<!-- vs2019: https://github.com/tdtc-hrb/csdn/raw/master/images/boost-header1.png -->
<!-- vs2019: https://github.com/tdtc-hrb/csdn/raw/master/images/boost-header2.png -->
<p><img src="https://github.com/tdtc-hrb/csdn/raw/master/images/boost-header1(vs2022).png" alt="VS2022 directories"></p>
<!-- boost v1.82: https://github.com/tdtc-hrb/csdn/raw/master/images/boost-header2(v182).png -->
<p><img src="https://github.com/tdtc-hrb/csdn/raw/master/images/boost-header2(v186).png" alt="VS2022 header2"></p>
<h3 id="库链接">库链接</h3>
<blockquote>
<p>Linker->General</p>
</blockquote>
<ul>
<li>Additional Library Directories:</li>
</ul>
<!-- vs2019: https://github.com/tdtc-hrb/csdn/raw/master/images/boost-linker1.png -->
<!-- vs2015: https://github.com/tdtc-hrb/csdn/raw/master/images/boost-linker1(vs2015).png -->
<p><img src="https://github.com/tdtc-hrb/csdn/raw/master/images/boost-linker1(vs2022).png" alt="VS2022 linker1"></p>
<h3 id="spectre-mitigations-in-msvc"><a href="https://devblogs.microsoft.com/cppblog/spectre-mitigations-in-msvc">Spectre mitigations in MSVC</a></h3>
<blockquote>
<p>vs2017/vs2019</p>
</blockquote>
<ul>
<li>c/c++->Code Generation</li>
</ul>
<!-- vs2019: https://github.com/tdtc-hrb/csdn/raw/master/images/gen1-vc142.png -->
<p><img src="https://github.com/tdtc-hrb/csdn/raw/master/images/gen1-vc143.png" alt="VS2022 c++"></p>
<h2 id="example---creating-and-managing-threads">Example - <a href="https://theboostcpplibraries.com/boost.thread-management">Creating and Managing Threads</a></h2>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="c"><code><span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;boost/thread.hpp></span></span>
<span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;boost/chrono.hpp></span></span>
<span class="line"><span style="color:#F97583">#include</span><span style="color:#9ECBFF"> &#x3C;iostream></span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> wait</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">int</span><span style="color:#FFAB70"> seconds</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#B392F0">    boost::this_thread::sleep_for</span><span style="color:#E1E4E8">(boost::chrono::seconds{ seconds });</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">void</span><span style="color:#B392F0"> thread</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#F97583">    for</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">int</span><span style="color:#E1E4E8"> i </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">; i </span><span style="color:#F97583">&#x3C;</span><span style="color:#79B8FF"> 5</span><span style="color:#E1E4E8">; </span><span style="color:#F97583">++</span><span style="color:#E1E4E8">i)</span></span>
<span class="line"><span style="color:#E1E4E8">    {</span></span>
<span class="line"><span style="color:#B392F0">        wait</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">        std::cout </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> i </span><span style="color:#F97583">&#x3C;&#x3C;</span><span style="color:#E1E4E8"> std::endl;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">int</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#E1E4E8">    boost::thread t{ thread };</span></span>
<span class="line"><span style="color:#E1E4E8">    t.</span><span style="color:#B392F0">join</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<h3 id="vs20151312">VS2015/13/12</h3>
<p>The top of the reference header add:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>#include "stdafx.h"</span></span></code></pre>  <footer> <a href="https://tdtc-hrb.github.io/blog-frontend">blog-frontend</a> <a href="https://tdtc-hrb.github.io/com-vc">com-vc</a> <a href="https://tdtc-hrb.github.io/css-tws">css-tws</a> <a href="https://tdtc-hrb.github.io/ops-win">ops-win</a> </footer> </body></html>