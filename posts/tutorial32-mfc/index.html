<!DOCTYPE html><html lang="en"> <head><meta charset="utf-8"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="viewport" content="width=device-width"><meta name="generator" content="Astro v5.16.0"><title>Three-way Splitter Frame - SDI</title></head> <body> <h1>Three-way Splitter Frame - SDI</h1>  <p><em>scroll view, splitter windows.</em></p> <p>2025-11-30</p> <p>Written by: xiaobin</p> <p>You need to add implementation code to OnCreateClient() in MainFrm.</p>
<h3 id="mfc-app-wizard">MFC App Wizard</h3>
<p>MyExplorer</p>
<p><img src="https://github.com/tdtc-hrb/csdn/raw/master/images/sdi-myexplorer.png" alt="Windows Explorer - style"></p>
<p><img src="https://github.com/tdtc-hrb/csdn/raw/master/images/ui_myexplorer.png" alt="Use a classic menu"></p>
<p><img src="https://github.com/tdtc-hrb/csdn/raw/master/images/adv_myexplorer.png" alt="Uncheck the option"></p>
<p><img src="https://github.com/tdtc-hrb/csdn/raw/master/images/classes-myexplorer.png" alt="default gen"></p>
<h4 id="add-class">Add Class</h4>
<p>CDetailView:</p>
<p><img src="https://github.com/tdtc-hrb/csdn/raw/master/images/add_class1-myexplorer.png" alt="add MFC Class"></p>
<p><img src="https://github.com/tdtc-hrb/csdn/raw/master/images/add_class2-myexplorer.png" alt="add MFC Class"></p>
<h2 id="oncreateclient">OnCreateClient</h2>
<ul>
<li><a href="https://mega.nz/file/add2yJiQ#ck95Pj0--sHxw3IJ-azu--SpMDSIguMzzB8xiBZ_k8g">Three-way</a></li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>//                           |  List View (CMyExplorerView)</span></span>
<span class="line"><span>//    Tree View (CLeftView)  |-----------------------------</span></span>
<span class="line"><span>//                           |  Scroll View (CDetailView)</span></span></code></pre>
<ul>
<li>fourth-way</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>//    Tree View (CLeftView)  |  List View (CMyExplorerView)</span></span>
<span class="line"><span>// ------------------------  |-----------------------------</span></span>
<span class="line"><span>//    Edit View (CEditView)  |  Scroll View (CDetailView)</span></span></code></pre>
<h3 id="fourth-way">fourth-way</h3>
<ul>
<li>Add a new View class: CTextView derived from CEditView</li>
<li>Add a new Splitter</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>// Attributes</span></span>
<span class="line"><span>protected:</span></span>
<span class="line"><span>    CSplitterWnd m_wndSplitter;</span></span>
<span class="line"><span>    CSplitterWnd m_wndSplitter1; // The splitter variable in the first column</span></span>
<span class="line"><span>    CSplitterWnd m_wndSplitter2; // The splitter variable in the second column</span></span></code></pre>
<ul>
<li>Set the initial value for row 0 or column 0</li>
</ul>
<h4 id="column-0">column 0</h4>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>m_wndSplitter.SetColumnInfo(0, 100, 50);</span></span></code></pre>
<h4 id="row-0">row 0</h4>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>m_wndSplitter2.SetRowInfo(0, 360, 100);</span></span></code></pre>
<h4 id="impl">impl</h4>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>BOOL CMainFrame::OnCreateClient(LPCREATESTRUCT /*lpcs*/,</span></span>
<span class="line"><span>    CCreateContext* pContext)</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    /* //// Code generated by MFC App Wizard</span></span>
<span class="line"><span>    // create splitter window</span></span>
<span class="line"><span>    if (!m_wndSplitter.CreateStatic(this, 1, 2))</span></span>
<span class="line"><span>        return FALSE;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    if (!m_wndSplitter.CreateView(0, 0, RUNTIME_CLASS(CLeftView), CSize(100, 100), pContext) ||</span></span>
<span class="line"><span>        !m_wndSplitter.CreateView(0, 1, RUNTIME_CLASS(CMyExplorerView), CSize(100, 100), pContext))</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        m_wndSplitter.DestroyWindow();</span></span>
<span class="line"><span>        return FALSE;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    */</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    // create a splitter with 1 row, 2 columns</span></span>
<span class="line"><span>    if (!m_wndSplitter.CreateStatic(this, 1, 2))</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        TRACE0("Failed to CreateStaticSplitter\n");</span></span>
<span class="line"><span>        return FALSE;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    m_wndSplitter.SetColumnInfo(0, 100, 50);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    // add the first splitter pane - which is a nested splitter with 2 rows</span></span>
<span class="line"><span>    if (!m_wndSplitter1.CreateStatic(</span></span>
<span class="line"><span>        &#x26;m_wndSplitter,     // our parent window is the first splitter</span></span>
<span class="line"><span>        2, 1,               // the new splitter is 2 rows, 1 column</span></span>
<span class="line"><span>        WS_CHILD | WS_VISIBLE | WS_BORDER,  // style, WS_BORDER is needed</span></span>
<span class="line"><span>        m_wndSplitter.IdFromRowCol(0, 0)</span></span>
<span class="line"><span>        // new splitter is in the first row, 2nd column of first splitter</span></span>
<span class="line"><span>        ))</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        TRACE0("Failed to create nested splitter - Left\n");</span></span>
<span class="line"><span>        return FALSE;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    if (!m_wndSplitter1.CreateView(0, 0,</span></span>
<span class="line"><span>        RUNTIME_CLASS(CLeftView), CSize(0, 170), pContext))</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        TRACE0("Failed to create first pane\n");</span></span>
<span class="line"><span>        return FALSE;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    if (!m_wndSplitter1.CreateView(1, 0,</span></span>
<span class="line"><span>        RUNTIME_CLASS(CTextView), CSize(0, 70), pContext))</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        TRACE0("Failed to create second pane\n");</span></span>
<span class="line"><span>        return FALSE;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    // add the second splitter pane - which is a nested splitter with 2 rows</span></span>
<span class="line"><span>    if (!m_wndSplitter2.CreateStatic(</span></span>
<span class="line"><span>        &#x26;m_wndSplitter,     // our parent window is the first splitter</span></span>
<span class="line"><span>        2, 1,               // the new splitter is 2 rows, 1 column</span></span>
<span class="line"><span>        WS_CHILD | WS_VISIBLE | WS_BORDER,  // style, WS_BORDER is needed</span></span>
<span class="line"><span>        m_wndSplitter.IdFromRowCol(0, 1)</span></span>
<span class="line"><span>        // new splitter is in the first row, 2nd column of first splitter</span></span>
<span class="line"><span>        ))</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        TRACE0("Failed to create nested splitter\n");</span></span>
<span class="line"><span>        return FALSE;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    // now create the two views inside the nested splitter</span></span>
<span class="line"><span>    CRect rect;</span></span>
<span class="line"><span>    GetClientRect(&#x26;rect);</span></span>
<span class="line"><span>    int cyText = rect.Size().cy - 70;         // height of text pane - SDI</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    //int cyText = max(lpcs->cy - 70, 20);    // height of text pane - MDI</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    if (!m_wndSplitter2.CreateView(0, 0,</span></span>
<span class="line"><span>        RUNTIME_CLASS(CMyExplorerView), CSize(0, cyText), pContext))</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        TRACE0("Failed to create third pane\n");</span></span>
<span class="line"><span>        return FALSE;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    if (!m_wndSplitter2.CreateView(1, 0,</span></span>
<span class="line"><span>        RUNTIME_CLASS(CDetailView), CSize(0, 70), pContext))</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        TRACE0("Failed to create fourth pane\n");</span></span>
<span class="line"><span>        return FALSE;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    m_wndSplitter2.SetRowInfo(0, 360, 100);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    return TRUE;</span></span>
<span class="line"><span>}</span></span></code></pre>
<h2 id="ref">Ref</h2>
<ul>
<li><a href="https://learn.microsoft.com/en-us/cpp/mfc/reference/csplitterwnd-class?view=msvc-170#createstatic">createstatic()</a></li>
<li><a href="https://learn.microsoft.com/en-us/cpp/mfc/reference/csplitterwnd-class?view=msvc-170#createview">createview()</a></li>
<li><a href="https://learn.microsoft.com/en-us/cpp/mfc/reference/csplitterwnd-class?view=msvc-170#setcolumninfo">SetColumnInfo</a></li>
<li><a href="https://learn.microsoft.com/en-us/cpp/mfc/reference/csplitterwnd-class?view=msvc-170#setrowinfo">SetRowInfo</a></li>
<li><a href="https://github.com/microsoft/VCSamples/blob/master/VC2010Samples/MFC/general/viewex/splitter.cpp">ViewEx - MFC samples</a></li>
<li><a href="https://p2p.wrox.com/visual-c/12283-switch-between-views-sdi-splitter.html">Switch between views in a SDI with Splitter?</a></li>
</ul>  <footer> <a href="https://tdtc-hrb.github.io/blog-frontend">blog-frontend</a> <a href="https://tdtc-hrb.github.io/com-vc">com-vc</a> <a href="https://tdtc-hrb.github.io/css-tws">css-tws</a> <a href="https://tdtc-hrb.github.io/ops-win">ops-win</a> </footer> </body></html>